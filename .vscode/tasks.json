{
  "tasks": [
    // ==========================================
    // KILL TASKS
    // ==========================================
    {
      "type": "shell",
      "label": "Kill: Backend (Air + API)",
      "command": "pkill -9 -f 'air|nx run api:serve|apps/api/tmp/main' || (lsof -ti :8088 | xargs -r kill -9) || echo 'â„¹ï¸  No backend processes running' && echo 'âœ… Killed backend processes'",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "type": "shell",
      "label": "Kill: Frontend (Angular)",
      "command": "pkill -9 -f 'nx run web:serve|ng serve' && echo 'âœ… Killed frontend processes' || echo 'â„¹ï¸  No frontend processes running'",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "type": "shell",
      "label": "Kill: All Dev Servers",
      "command": "pkill -9 -f 'air|nx run|ng serve|apps/api/tmp/main' || (lsof -ti :8088 :4200 | xargs -r kill -9) || echo 'â„¹ï¸  No dev servers running' && echo 'âœ… Killed all dev servers'",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "type": "shell",
      "label": "Kill: Stuck Lint Processes",
      "command": "pkill -9 -f 'nx run-many.*lint|golangci-lint' && echo 'âœ… Killed lint processes' || echo 'â„¹ï¸  No lint processes running'",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "type": "shell",
      "label": "Kill: Docker Containers on Port 8088",
      "command": "docker ps --filter 'publish=8088' --format '{{.ID}}' | xargs -r docker stop && echo 'âœ… Stopped Docker containers using port 8088' || echo 'â„¹ï¸  No Docker containers on port 8088'",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "type": "shell",
      "label": "Kill: Everything (Nuclear Option)",
      "command": "cd ${workspaceFolder}/workspace && pkill -9 -f 'air|nx|ng serve|golangci-lint|plugin-worker' 2>/dev/null; rm -rf .nx/cache .nx/daemon 2>/dev/null; npx nx reset 2>/dev/null; echo 'ðŸ’¥ Killed all processes and cleared Nx cache' || echo 'â„¹ï¸  Cleanup completed'",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": []
    },

    // ==========================================
    // DEVELOPMENT TASKS
    // ==========================================
    {
      "command": "npm run dev",
      "label": "Dev: Start All",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "dedicated",
        "reveal": "always",
        "showReuseMessage": false
      },
      "problemMatcher": [],
      "type": "shell"
    },
    {
      "command": "npm run api",
      "label": "Dev: Backend Only",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "dedicated",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    {
      "command": "npm run web",
      "label": "Dev: Frontend Only",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "dedicated",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    // ==========================================
    // DOCKER TASKS
    // ==========================================
    {
      "command": "npm run docker:up",
      "label": "Docker: Start Infrastructure",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    {
      "command": "npm run docker:down",
      "label": "Docker: Stop Infrastructure",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    {
      "command": "npm run docker:logs",
      "label": "Docker: View Logs",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": true,
        "panel": "dedicated",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    // ==========================================
    // BUILD TASKS
    // ==========================================
    {
      "command": "npm run build",
      "group": {
        "isDefault": true,
        "kind": "build"
      },
      "label": "Build: All",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    {
      "command": "npm run build:api",
      "group": "build",
      "label": "Build: Backend",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$go"],
      "type": "shell"
    },
    {
      "command": "npm run build:web",
      "group": "build",
      "label": "Build: Frontend",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$tsc"],
      "type": "shell"
    },
    // ==========================================
    // TEST TASKS
    // ==========================================
    {
      "command": "npm test",
      "group": {
        "isDefault": true,
        "kind": "test"
      },
      "label": "Test: All",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    {
      "command": "npm run test:api",
      "group": "test",
      "label": "Test: Backend Unit",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$go"],
      "type": "shell"
    },
    {
      "command": "npm run test:api:integration",
      "group": "test",
      "label": "Test: Backend Integration",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$go"],
      "type": "shell"
    },
    {
      "command": "npm run test:web",
      "group": "test",
      "label": "Test: Frontend",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    {
      "command": "npm run test:e2e",
      "group": "test",
      "label": "Test: E2E",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    // ==========================================
    // LINT TASKS
    // ==========================================
    {
      "command": "npm run lint",
      "label": "Lint: All",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$eslint-stylish", "$go"],
      "type": "shell"
    },
    {
      "command": "npm run lint:fix",
      "label": "Lint: Fix All",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    {
      "command": "npm run lint:api",
      "label": "Lint: Backend",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$go"],
      "type": "shell"
    },
    {
      "command": "npm run lint:web",
      "label": "Lint: Frontend",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$eslint-stylish"],
      "type": "shell"
    },
    // ==========================================
    // TYPECHECK TASKS
    // ==========================================
    {
      "command": "npm run typecheck",
      "label": "TypeCheck: All",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$tsc", "$go"],
      "type": "shell"
    },
    {
      "command": "npm run typecheck:web",
      "label": "TypeCheck: Web (App)",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$tsc"],
      "type": "shell"
    },
    {
      "command": "npm run typecheck:web:spec",
      "label": "TypeCheck: Web (Spec)",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$tsc"],
      "type": "shell"
    },
    {
      "command": "npm run typecheck:web:all",
      "label": "TypeCheck: Web (App + Spec)",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$tsc"],
      "type": "shell"
    },
    {
      "command": "npm run typecheck:web:build",
      "label": "TypeCheck: Web (Build - Angular Compiler)",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$tsc"],
      "type": "shell"
    },
    {
      "command": "npm run typecheck:api",
      "label": "TypeCheck: API (Vet)",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$go"],
      "type": "shell"
    },
    {
      "command": "npm run typecheck:api:build",
      "label": "TypeCheck: API (Build)",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$go"],
      "type": "shell"
    },
    {
      "command": "npm run typecheck:api:test",
      "label": "TypeCheck: API (Test)",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$go"],
      "type": "shell"
    },
    {
      "command": "npm run typecheck:api:all",
      "label": "TypeCheck: API (All)",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$go"],
      "type": "shell"
    },
    // ==========================================
    // NX TASKS
    // ==========================================
    {
      "command": "npx nx graph",
      "label": "Nx: Show Graph",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    {
      "command": "cd ${workspaceFolder}/workspace && pkill -9 -f 'nx.*daemon|plugin-worker' 2>/dev/null; rm -rf .nx/cache .nx/daemon 2>/dev/null; npx nx reset",
      "label": "Nx: Reset Cache & Daemon",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    {
      "command": "npx nx affected:test",
      "label": "Nx: Affected Test",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    {
      "command": "npx nx affected:build",
      "label": "Nx: Affected Build",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    // ==========================================
    // GO-SPECIFIC TASKS
    // ==========================================
    {
      "command": "go mod download && go mod tidy",
      "label": "Go: Install Dependencies",
      "options": {
        "cwd": "${workspaceFolder}/workspace/apps/api"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    },
    {
      "command": "go test -v -race -coverprofile=coverage.out ./...",
      "label": "Go: Run Tests with Coverage",
      "options": {
        "cwd": "${workspaceFolder}/workspace/apps/api"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": ["$go"],
      "type": "shell"
    },
    {
      "command": "npm run test:api:bench",
      "label": "Go: Benchmark",
      "options": {
        "cwd": "${workspaceFolder}/workspace"
      },
      "presentation": {
        "echo": true,
        "focus": false,
        "panel": "shared",
        "reveal": "always"
      },
      "problemMatcher": [],
      "type": "shell"
    }
  ],
  "version": "2.0.0"
}
